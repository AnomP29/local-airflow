name: local-airflow-actions

on: # specify the build to trigger the automated ci/cd
    push:
        branches:
            - "main"
run-name: running tests for buildimage
jobs:
    build:
        name: Build Docker-Image
        runs-on: ubuntu-latest
        steps:
            - # checkout to the repository on the build machine
              name: Checkout
              uses: actions/checkout@v3
            - # login to Docker Hub using the secrets provided
              name: Login to Docker Hub
              uses: docker/login-anompu/airflow-293-hub@v2
              with:
                username: $
                password: $
            - # create a build kit builder instance
              name: Set up Docker Buildx
              uses: docker/setup-buildx-action@v2
            - # build the container image and push it to Docker \
              # Hub with the name clockbox.
              name: Build and push
              uses: docker/build-push-action@v4
              with:
                context: .
                file: ./dockerize/Dockerfile
                push: true
                tags: $/airflow-293-hub:latest



              

